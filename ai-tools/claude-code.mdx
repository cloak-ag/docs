---
title: "Claude Code setup"
description: "Context templates for Cloak v2 integrations"
icon: "message-bot"
---

Use a concise project context so Claude Code targets the right API surface.

## `CLAUDE.md` template

Create `CLAUDE.md` in your project:

<Accordion title="View CLAUDE.md template">

# Cloak SDK v2 Context

We integrate `@cloak.ag/sdk`.

## Main patterns

- Note API (`CloakSDK`): `deposit`, `withdraw`, `send`, `swap`
- UTXO API: `transact`, `transfer`, `partialWithdraw`, `fullWithdraw`, `swapUtxo`, `swapWithChange`

## Security

- Never log full notes/UTXO secrets.
- Use `onNoteGenerated` to persist notes before deposit continues.

## Program IDs

- Mainnet: `c1oak6tetxYnNfvXKFkpn1d98FxtK7B68vBQLYQpWKp`
- Development build: `3EvH6XYQir7D2RyzCdP7QFmJFfSPfdeoB8VnpLdEF4Kr`

Set `programId` explicitly for development deployments.

## Fee constants

- Fixed `5_000_000`
- Variable `amount * 3 / 1000`
- Min deposit `10_000_000`

## Error model

Use `CloakError`, `ShieldPoolErrors`, `isRootNotFoundError`, `parseError`.

## Docs to follow

- `/sdk/quickstart`
- `/sdk/utxo-transactions`
- `/sdk/migration-v1-v2`
- `/sdk/api-reference`
- `/services/relay-api`

</Accordion>

## Useful prompts

<AccordionGroup>
<Accordion title="Build note-based flow">
Implement a production-safe note-based deposit/withdraw flow using wallet-adapter and CloakSDK with secure note persistence and error categorization.
</Accordion>

<Accordion title="Build UTXO flow">
Create a UTXO transaction module using `transact`, `partialWithdraw`, and `swapWithChange` with relay status polling and retry logic.
</Accordion>

<Accordion title="Migrate existing code">
Migrate this v1 note-only integration to v2 by preserving note deposit UX and moving transfer/swap logic to UTXO helpers.
</Accordion>
</AccordionGroup>

## Related docs

- [UTXO Transactions](/sdk/utxo-transactions)
- [Migration v1 â†’ v2](/sdk/migration-v1-v2)
