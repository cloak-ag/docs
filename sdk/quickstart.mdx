---
title: "Quickstart"
description: "Run your first private transaction with the current SDK API"
icon: "rocket"
---

This quickstart uses the note-based `CloakSDK` API.

## Prerequisites

- Node.js 18+
- A funded Solana keypair
- RPC endpoint (`SOLANA_RPC_URL`)

## Install

```bash
mkdir cloak-demo && cd cloak-demo
npm init -y
npm install @cloak.ag/sdk @solana/web3.js tsx
```

## Example script

Create `demo.ts`:

```typescript
import { CloakSDK, getDistributableAmount } from "@cloak.ag/sdk";
import { Connection, Keypair, PublicKey, LAMPORTS_PER_SOL } from "@solana/web3.js";
import { readFileSync } from "node:fs";
import { join } from "node:path";

const connection = new Connection(
  process.env.SOLANA_RPC_URL || "https://api.devnet.solana.com",
  "confirmed"
);

const keypairPath = process.env.KEYPAIR_PATH || join(process.env.HOME!, ".config/solana/id.json");
const keypair = Keypair.fromSecretKey(
  Uint8Array.from(JSON.parse(readFileSync(keypairPath, "utf8")))
);

const sdk = new CloakSDK({
  keypairBytes: keypair.secretKey,
  network: "devnet",
  // Development/devnet deployment ID:
  programId: new PublicKey("3EvH6XYQir7D2RyzCdP7QFmJFfSPfdeoB8VnpLdEF4Kr"),
});

const amount = 0.01 * LAMPORTS_PER_SOL;

const deposit = await sdk.deposit(connection, amount, {
  onNoteGenerated: async (note) => {
    // Persist this securely in production
    console.log("Generated note commitment:", note.commitment);
  },
});

const recipient = Keypair.generate().publicKey;
const withdraw = await sdk.withdraw(connection, deposit.note, recipient, {
  withdrawAll: true,
});

console.log("Deposit tx:", deposit.signature);
console.log("Withdraw tx:", withdraw.signature);
console.log("Expected distributable:", getDistributableAmount(amount));
console.log("Actual output:", withdraw.outputs[0]?.amount);
```

Run it:

```bash
npx tsx demo.ts
```

## Important runtime notes

- Save notes before deposit proceeds (`onNoteGenerated`).
- Withdrawal proof generation needs circuit files available.
- On devnet/development deployments, pass `programId` explicitly.

## Next steps

- Use browser wallets: [Wallet Integration](/sdk/wallet-integration)
- Use bigint UTXO APIs: [UTXO Transactions (v2)](/sdk/utxo-transactions)
- See all exports: [API Reference](/sdk/api-reference)
